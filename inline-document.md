# 9 内联函数

* 预处理器宏存在的问题的关键是我们可能认为预处理的行为和编译器的行为一样。当然，这是有意使宏在外观上和行为上与函数调用一样，因此容易混淆。
* 预处理器只是简单的执行字符替换
* 任何在类中定义的函数自动地成为内联函数，但也可以在非类的函数前面加上inline关键字使之成为内联函数。但为了使之有效，必须使函数体和声明在一起，否则，编译器将它作为普通函数对待。
* 一般应该把内联定义放在头文件里。当编译器看到这个定义时，它把函数类型和函数体放到符号表里。当使用函数时，编译器检查以确保调用是正确的且返回值被正确使用，然后将函数调用替换为函数体，因而消除了开销。内联代码的确占用了空间，但假如函数较小，这实际上比为了一个普通函数调用而产生的代码占用的空间还少。
* 使用内联函数的目的是减少函数调用的开销。但是，加入函数较大，由于需要在调用函数的每一处重复复制代码，这样将使代码膨胀。
* 当调用一个内联函数时，编译器首先确保调用正确，即所有的参数类型必须满足：要么与函数参数表中的参数类型一样，要么编译器能够将其转换为正确类型，并且返回值在目标表达式里应该是正确类型或可改变为正确类型。
* c++语言规定：只有在类声明结束后，其中的内联才会被计算。